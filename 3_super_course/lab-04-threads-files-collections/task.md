# Лабораторная работа №4

## Потоки выполнения, работа с файлами и коллекции в Java

---

## 1. Тема лабораторной работы

**Использование потоков выполнения, файлового ввода-вывода и коллекций при разработке консольного Java-приложения.**

---

## 2. Цель лабораторной работы

Целью лабораторной работы является формирование практических навыков:

* работы с потоками выполнения (`Thread`, `Runnable`);
* использования коллекций для хранения объектов;
* чтения и записи данных в файлы;
* проектирования структуры приложения с использованием ООП;
* обработки исключений ввода-вывода;
* подготовки программного кода и отчёта.

---

## 3. Общая постановка задачи

Необходимо разработать **консольное Java-приложение для управления набором объектов**, в котором:

* данные хранятся в коллекции;
* данные сохраняются и загружаются из файла;
* операции сохранения выполняются в отдельном потоке;
* логика программы разделена по классам;
* все ошибки обрабатываются с использованием исключений.

---

## 4. Предметная область

Разработать приложение **«Учёт сотрудников организации»**.

Каждый сотрудник характеризуется следующими данными:

* ФИО
* Возраст
* Должность
* Размер заработной платы

Все сотрудники хранятся в коллекции `ArrayList`.

---

## 5. Функциональные требования к программе

Программа должна обеспечивать:

1. Создание коллекции сотрудников.
2. Добавление нового сотрудника.
3. Вывод списка всех сотрудников на экран.
4. Поиск сотрудника по ФИО.
5. Сохранение списка сотрудников в текстовый файл.
6. Загрузку списка сотрудников из файла.
7. Выполнение операции сохранения в **отдельном потоке**.
8. Корректную обработку всех возможных ошибок.

---

## 6. Требования к архитектуре программы

### 6.1 Обязательные классы

В программе **обязательно должны присутствовать** следующие классы:

1. `Employee` — класс модели сотрудника
2. `EmployeeManager` — класс для управления коллекцией сотрудников
3. `FileSaveTask` — класс потока для сохранения данных
4. `Main` — главный класс приложения

---

### 6.2 Класс Employee

Должен содержать:

* поля (private);
* конструктор;
* методы доступа (`get` / `set`);
* метод `toString()`;
* метод, возвращающий строку для записи в файл.

---

### 6.3 Класс EmployeeManager

Должен:

* хранить `ArrayList<Employee>`;
* реализовывать методы:

  * добавления сотрудника;
  * вывода всех сотрудников;
  * поиска сотрудника;
  * получения коллекции для сохранения;

---

### 6.4 Класс FileSaveTask

* реализует интерфейс `Runnable`;
* принимает коллекцию сотрудников;
* сохраняет данные в файл;
* обрабатывает `IOException`.

---

## 7. Работа с потоками

### Обязательные требования:

* сохранение данных **обязательно выполняется в отдельном потоке**;
* поток запускается через `start()`;
* используется `Runnable`;
* применяется `try-with-resources`.

---

## 8. Работа с файлами

* данные сохраняются в текстовый файл (`.txt`);
* один сотрудник — одна строка;
* поля разделяются символом `;`;
* файл создаётся автоматически, если отсутствует;
* при загрузке данные корректно преобразуются обратно в объекты.

---

## 9. Работа с коллекциями

* используется `ArrayList<Employee>`;
* перебор элементов осуществляется с помощью цикла `for-each`;
* допускается сортировка (по желанию, + бонус).

---

## 10. Пользовательский интерфейс (консоль)

Программа должна содержать текстовое меню, например:

```
1 — Добавить сотрудника
2 — Показать всех сотрудников
3 — Найти сотрудника
4 — Сохранить в файл
5 — Загрузить из файла
0 — Выход
```

Меню должно работать в цикле до выхода пользователя.

---

## 11. Обработка исключений

В программе должны быть обработаны:

* `IOException`;
* `NumberFormatException`;
* другие возможные ошибки пользовательского ввода.

Использование `throws` **без `try-catch` запрещено**.

---

## 13. Требования к отчёту

Отчёт оформляется в текстовом редакторе и **обязательно содержит**:

1. Титульный лист
2. Цель работы
3. Постановку задачи
4. Описание структуры программы
5. Листинги кода (основные классы)
6. Примеры работы программы (скриншоты консоли)
7. Ответы на контрольные вопросы
8. Вывод

---

## 14. Контрольные вопросы (ответить письменно)

1. Что такое поток выполнения?
2. Чем отличается `Thread` от `Runnable`?
3. Почему нельзя вызывать метод `run()` напрямую?
4. Зачем нужны коллекции?
5. Чем `ArrayList` отличается от массива?
6. Что такое `try-with-resources`?
7. Какие ошибки могут возникать при работе с файлами?
8. Почему операции ввода-вывода желательно выносить в отдельный поток?

---


## 15. Запрещено

* писать всю логику в `main`;
* использовать массивы вместо коллекций;
* игнорировать исключения;
* копировать чужие решения;
* сдавать работу без отчёта.

---

## 16. Результат выполнения лабораторной работы

В результате выполнения лабораторной работы нужно:

* разработать структурированное Java-приложение;
* продемонстрировать навыки работы с потоками, файлами и коллекциями;
* уметь объяснить архитектуру программы и принятые решения;
* защитить лабораторную работу устно.
